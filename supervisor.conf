[program:telegram-bot]
command=/opt/telegram-bot/venv/bin/python bot.py
directory=/opt/telegram-bot
user=botuser
group=botuser
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/telegram-bot/bot.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=5
stderr_logfile=/var/log/telegram-bot/bot_error.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=5
environment=PATH="/opt/telegram-bot/venv/bin"
killasgroup=true
stopasgroup=true
stopsignal=TERM
stopwaitsecs=10

[program:telegram-bot-scheduler]
command=/opt/telegram-bot/venv/bin/python schedule_updates.py
directory=/opt/telegram-bot
user=botuser
group=botuser
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/telegram-bot/scheduler.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=3
stderr_logfile=/var/log/telegram-bot/scheduler_error.log
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=3
environment=PATH="/opt/telegram-bot/venv/bin"
killasgroup=true
stopasgroup=true
stopsignal=TERM
stopwaitsecs=5

[group:telegram-bot-group]
programs=telegram-bot,telegram-bot-scheduler
priority=999