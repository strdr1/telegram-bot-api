# –°–≤–æ–¥–∫–∞ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

### 1. ‚úÖ –ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–∫–∏ "–ê–¥–º–∏–Ω" –Ω–∞ "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ —á–∞—Ç–µ"
- –í —Ñ–∞–π–ª–µ `handlers/handlers_booking.py` –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –∫–Ω–æ–ø–∫–∏ "üìû –ê–¥–º–∏–Ω" –Ω–∞ "üí¨ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ —á–∞—Ç–µ"
- –ö–Ω–æ–ø–∫–∏ —Ç–µ–ø–µ—Ä—å –≤–µ–¥—É—Ç –Ω–∞ `callback_data="chat_operator"` –≤–º–µ—Å—Ç–æ `callback_data="call_admin"`

### 2. ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É (–∫—Ä–æ–º–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è)
- –í —Ñ–∞–π–ª–µ `keyboards.py` –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏:
  - `main_menu()` - –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω—ã –Ω–∞ –ø–æ–ª–Ω—É—é —à–∏—Ä–∏–Ω—É
  - `food_menu()` - –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω—ã –Ω–∞ –ø–æ–ª–Ω—É—é —à–∏—Ä–∏–Ω—É  
  - `main_menu_with_profile()` - –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω—ã –Ω–∞ –ø–æ–ª–Ω—É—é —à–∏—Ä–∏–Ω—É
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –æ—Å—Ç–∞–ª—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∫–∞–∫ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å)

### 3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ —Å –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º
- –í —Ñ–∞–π–ª–µ `handlers/handlers_main.py`:
  - –û–±–Ω–æ–≤–ª–µ–Ω –∫—ç—à `age_verification_cache` –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞ –Ω–∞ –≤—Å—é —Å–µ—Å—Å–∏—é
  - –§—É–Ω–∫—Ü–∏—è `menu_food_callback()` —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º –º–µ–Ω—é
  - –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `electronic_menu_direct_callback()` –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### 4. ‚úÖ –£–±—Ä–∞–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤ 3 –∫–Ω–æ–ø–∫–∞—Ö –º–µ–Ω—é
- –í —Ñ–∞–π–ª–µ `keyboards.py` —Ñ—É–Ω–∫—Ü–∏—è `food_menu()`:
  - –ö–Ω–æ–ø–∫–∞ "–≠–õ–ï–ö–¢–†–û–ù–ù–û–ï –ú–ï–ù–Æ" —Ç–µ–ø–µ—Ä—å –≤–µ–¥–µ—Ç –Ω–∞ `callback_data="electronic_menu_direct"`
  - –£–±—Ä–∞–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏–∑ —Å–∞–º–∏—Ö –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—Ö–æ–¥–∞ –≤ –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞

### 5. ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è
- –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `callback.message.message_id` –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `update_message()` —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 6. ‚úÖ –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã —Å—Ç–æ–ª–∏–∫–æ–≤ —Å –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- –í —Ñ–∞–π–ª–µ `handlers/handlers_booking.py` —Ñ—É–Ω–∫—Ü–∏—è `select_time()`:
  - –°—Ö–µ–º–∞ –∑–∞–ª–∞ –∏ –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Å—Ç–æ–ª–∏–∫–æ–≤ —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
  - –ö–Ω–æ–ø–∫–∏ —Å—Ç–æ–ª–∏–∫–æ–≤ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –ø–æ 4 –≤ —Ä—è–¥: `if len(row) == 4:`
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `send_photo()` —Å `caption` –∏ `reply_markup` –≤ –æ–¥–Ω–æ–º –≤—ã–∑–æ–≤–µ

### 7. ‚úÖ –°–∫—Ä—ã—Ç–∏–µ –∫–Ω–æ–ø–æ–∫ –∑–∞–Ω—è—Ç—ã—Ö —Å—Ç–æ–ª–æ–≤
- –í —Ñ—É–Ω–∫—Ü–∏–∏ `filter_tables_by_guests()` –∏ `generate_hall_schema()`:
  - –ö–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ç–æ–ª–æ–≤ –∏–∑ `filtered_tables`
  - –ó–∞–Ω—è—Ç—ã–µ —Å—Ç–æ–ª—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ö–µ–º–µ (–∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º), –Ω–æ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–∏—Ö –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
  - –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏: `if not busy: free_table_ids.append(item["id"])`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –í—Å–µ —Ç–µ–∫—Å—Ç—ã –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∏–ª—é (–ó–ê–ì–õ–ê–í–ù–´–ï –ë–£–ö–í–´)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–¥–∞

## –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã:
1. `handlers/handlers_booking.py` - –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
2. `keyboards.py` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
3. `handlers/handlers_main.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏ –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.